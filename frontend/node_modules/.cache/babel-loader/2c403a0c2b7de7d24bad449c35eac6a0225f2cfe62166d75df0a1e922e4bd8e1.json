{"ast":null,"code":"var _jsxFileName = \"D:\\\\Desktop folder\\\\Major Project clg\\\\frontend\\\\src\\\\components\\\\IdentityVerification.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction IdentityVerification({\n  token,\n  onVerificationComplete,\n  onCancel\n}) {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [capturedPhoto, setCapturedPhoto] = useState(null);\n  const [cameraActive, setCameraActive] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [cameraError, setCameraError] = useState('');\n  const [verificationDetails, setVerificationDetails] = useState(null);\n  const [useFileUpload, setUseFileUpload] = useState(false);\n\n  // Start camera\n  const startCamera = async () => {\n    try {\n      setCameraError('');\n      setError('');\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          width: {\n            ideal: 1280\n          },\n          height: {\n            ideal: 720\n          },\n          facingMode: 'user'\n        },\n        audio: false\n      });\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n        setCameraActive(true);\n      }\n    } catch (err) {\n      console.error('Camera error:', err);\n      setCameraError('Unable to access camera. Please check browser permissions or use the upload option.');\n      setUseFileUpload(true);\n    }\n  };\n\n  // Stop camera\n  const stopCamera = () => {\n    if (videoRef.current && videoRef.current.srcObject) {\n      const tracks = videoRef.current.srcObject.getTracks();\n      tracks.forEach(track => track.stop());\n      setCameraActive(false);\n    }\n  };\n\n  // Capture photo from video\n  const capturePhoto = () => {\n    if (videoRef.current && canvasRef.current) {\n      const context = canvasRef.current.getContext('2d');\n      canvasRef.current.width = videoRef.current.videoWidth;\n      canvasRef.current.height = videoRef.current.videoHeight;\n\n      // Mirror the image (selfie mode)\n      context.translate(canvasRef.current.width, 0);\n      context.scale(-1, 1);\n      context.drawImage(videoRef.current, 0, 0);\n\n      // Convert to base64\n      const photoData = canvasRef.current.toDataURL('image/jpeg', 0.95);\n      setCapturedPhoto(photoData);\n      stopCamera();\n      setError('');\n    }\n  };\n\n  // Retake photo\n  const retakePhoto = () => {\n    setCapturedPhoto(null);\n    startCamera();\n  };\n\n  // Handle file upload\n  const handleFileUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      // Validate file type\n      if (!file.type.startsWith('image/')) {\n        setError('Please upload a valid image file');\n        return;\n      }\n\n      // Validate file size (max 5MB)\n      if (file.size > 5 * 1024 * 1024) {\n        setError('Image size must be less than 5MB');\n        return;\n      }\n      const reader = new FileReader();\n      reader.onload = event => {\n        setCapturedPhoto(event.target.result);\n        setError('');\n      };\n      reader.onerror = () => {\n        setError('Failed to read file');\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // Submit verification\n  const handleSubmitVerification = async () => {\n    if (!capturedPhoto) {\n      setError('Please capture or upload a photo first');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    setSuccess('');\n    try {\n      const response = await fetch('http://localhost:5000/api/verify-identity', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          live_photo: capturedPhoto,\n          camera_source: useFileUpload ? 'file_upload' : 'webcam'\n        })\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        // Handle fraud detection responses\n        if (data.fraud_indicators && data.fraud_indicators.length > 0) {\n          setError(`Identity verification failed: ${data.fraud_indicators.join(', ')}`);\n          setVerificationDetails({\n            fraudDetected: true,\n            indicators: data.fraud_indicators,\n            livenessScore: data.liveness_score,\n            spoofingConfidence: data.spoofing_confidence\n          });\n        } else {\n          setError(data.error || 'Verification failed');\n          if (data.face_match_confidence !== undefined) {\n            setVerificationDetails({\n              fraudDetected: false,\n              faceMatchConfidence: data.face_match_confidence,\n              faceDistance: data.face_distance\n            });\n          }\n        }\n        setCapturedPhoto(null);\n        return;\n      }\n      setSuccess('‚úì Identity verified successfully!');\n      setVerificationDetails({\n        verified: true,\n        faceMatchConfidence: data.face_match_confidence,\n        livenessScore: data.liveness_score,\n        isGenuine: data.is_genuine\n      });\n\n      // Notify parent component\n      setTimeout(() => {\n        if (onVerificationComplete) {\n          onVerificationComplete();\n        }\n      }, 1500);\n    } catch (err) {\n      setError(`Error: ${err.message}`);\n      setCapturedPhoto(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      stopCamera();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"identity-verification-container\",\n    style: styles.container,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"verification-card\",\n      style: styles.card,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: styles.title,\n        children: \"Identity Verification\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: styles.subtitle,\n        children: \"Please capture a clear photo of your face using your camera for identity verification.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        style: styles.alert,\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Error:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this), \" \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-success\",\n        style: styles.alert,\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }, this), verificationDetails && verificationDetails.verified && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"verification-details\",\n        style: styles.details,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Face Match Confidence:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this), \" \", (verificationDetails.faceMatchConfidence * 100).toFixed(1), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Liveness Score:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this), \" \", (verificationDetails.livenessScore * 100).toFixed(1), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'green'\n            },\n            children: \"\\u2713 Genuine Person Detected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 40\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this), verificationDetails && verificationDetails.fraudDetected && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fraud-warning\",\n        style: {\n          ...styles.details,\n          backgroundColor: '#fff3cd',\n          borderColor: '#ffc107'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u26A0 Fraud Indicators Detected:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: verificationDetails.indicators.map((indicator, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [indicator === 'multiple_faces_detected' && 'Multiple faces detected in image', indicator === 'image_too_small' && 'Image too small - may be a screenshot', indicator === 'no_face_detected' && 'No face detected in image', indicator === 'detection_error' && 'Error during fraud detection']\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this), verificationDetails.livenessScore !== undefined && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Liveness Score:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 18\n          }, this), \" \", (verificationDetails.livenessScore * 100).toFixed(1), \"% (Below threshold)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this), verificationDetails && !verificationDetails.verified && !verificationDetails.fraudDetected && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"face-mismatch-warning\",\n        style: {\n          ...styles.details,\n          backgroundColor: '#f8d7da',\n          borderColor: '#f5c6cb'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Face Match Failed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"The captured face does not match your registered identity.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), verificationDetails.faceMatchConfidence !== undefined && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Match Confidence:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 17\n          }, this), \" \", (verificationDetails.faceMatchConfidence * 100).toFixed(1), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }, this), !capturedPhoto && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.section,\n        children: [!cameraActive && !useFileUpload && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.buttonGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startCamera,\n            className: \"btn btn-primary\",\n            style: styles.primaryButton,\n            children: \"\\uD83D\\uDCF7 Start Camera\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setUseFileUpload(true),\n            className: \"btn btn-secondary\",\n            style: styles.secondaryButton,\n            children: \"\\uD83D\\uDCC1 Upload Photo Instead\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 15\n        }, this), cameraActive && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.cameraSection,\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            ref: videoRef,\n            autoPlay: true,\n            playsInline: true,\n            style: styles.video\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvasRef,\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.cameraInstructions,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\uD83D\\uDCF8 Position your face clearly in the center of the camera\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2713 Ensure good lighting and no obstructions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2713 Face the camera directly\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.buttonGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: capturePhoto,\n              className: \"btn btn-success\",\n              style: styles.successButton,\n              children: \"\\uD83D\\uDCF7 Capture Photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: stopCamera,\n              className: \"btn btn-secondary\",\n              style: styles.secondaryButton,\n              children: \"\\u2715 Cancel Camera\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 15\n        }, this), useFileUpload && !cameraActive && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.fileUploadSection,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"photo-upload\",\n            style: styles.fileLabel,\n            children: \"\\uD83D\\uDCC1 Select Photo from Your Device\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"photo-upload\",\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: handleFileUpload,\n            style: styles.fileInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setUseFileUpload(false),\n            className: \"btn btn-secondary\",\n            style: styles.secondaryButton,\n            children: \"Back to Camera\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 17\n          }, this), cameraError && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#dc3545',\n              marginTop: '10px'\n            },\n            children: cameraError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this), capturedPhoto && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.section,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.previewSection,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\uD83D\\uDCF7 Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: capturedPhoto,\n            alt: \"Captured\",\n            style: styles.previewImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.buttonGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmitVerification,\n            disabled: loading,\n            className: \"btn btn-success\",\n            style: {\n              ...styles.successButton,\n              opacity: loading ? 0.6 : 1,\n              cursor: loading ? 'not-allowed' : 'pointer'\n            },\n            children: loading ? '‚è≥ Verifying...' : '‚úì Verify Identity'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: retakePhoto,\n            disabled: loading,\n            className: \"btn btn-secondary\",\n            style: {\n              ...styles.secondaryButton,\n              opacity: loading ? 0.6 : 1,\n              cursor: loading ? 'not-allowed' : 'pointer'\n            },\n            children: \"\\uD83D\\uDD04 Retake Photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 11\n      }, this), !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.closeButtonContainer,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          className: \"btn btn-outline-secondary\",\n          style: styles.closeButton,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n}\n_s(IdentityVerification, \"aoJr5yf15/x59SdoFqEnKtereYY=\");\n_c = IdentityVerification;\nconst styles = {\n  container: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: '100vh',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    padding: '20px'\n  },\n  card: {\n    backgroundColor: 'white',\n    borderRadius: '8px',\n    padding: '30px',\n    maxWidth: '500px',\n    width: '100%',\n    boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'\n  },\n  title: {\n    fontSize: '24px',\n    fontWeight: 'bold',\n    marginBottom: '10px',\n    color: '#333'\n  },\n  subtitle: {\n    color: '#666',\n    marginBottom: '20px'\n  },\n  alert: {\n    padding: '12px',\n    marginBottom: '15px',\n    borderRadius: '4px',\n    fontSize: '14px'\n  },\n  details: {\n    padding: '15px',\n    backgroundColor: '#d4edda',\n    border: '1px solid #c3e6cb',\n    borderRadius: '4px',\n    marginBottom: '15px',\n    fontSize: '14px'\n  },\n  section: {\n    marginBottom: '20px'\n  },\n  buttonGroup: {\n    display: 'flex',\n    gap: '10px',\n    marginTop: '15px',\n    flexWrap: 'wrap'\n  },\n  primaryButton: {\n    flex: '1',\n    minWidth: '150px',\n    padding: '10px 15px',\n    backgroundColor: '#007bff',\n    color: 'white',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    fontSize: '14px',\n    fontWeight: '500'\n  },\n  successButton: {\n    flex: '1',\n    minWidth: '150px',\n    padding: '10px 15px',\n    backgroundColor: '#28a745',\n    color: 'white',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    fontSize: '14px',\n    fontWeight: '500'\n  },\n  secondaryButton: {\n    flex: '1',\n    minWidth: '150px',\n    padding: '10px 15px',\n    backgroundColor: '#6c757d',\n    color: 'white',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    fontSize: '14px',\n    fontWeight: '500'\n  },\n  closeButton: {\n    width: '100%',\n    padding: '10px',\n    backgroundColor: 'white',\n    color: '#6c757d',\n    border: '1px solid #6c757d',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    fontSize: '14px'\n  },\n  closeButtonContainer: {\n    marginTop: '20px',\n    borderTop: '1px solid #eee',\n    paddingTop: '15px'\n  },\n  cameraSection: {\n    backgroundColor: '#f8f9fa',\n    padding: '15px',\n    borderRadius: '4px',\n    marginBottom: '15px'\n  },\n  video: {\n    width: '100%',\n    borderRadius: '4px',\n    marginBottom: '10px',\n    backgroundColor: '#000'\n  },\n  cameraInstructions: {\n    backgroundColor: '#e7f3ff',\n    border: '1px solid #b3d9ff',\n    borderRadius: '4px',\n    padding: '12px',\n    marginBottom: '15px',\n    fontSize: '13px',\n    color: '#004085'\n  },\n  previewSection: {\n    backgroundColor: '#f8f9fa',\n    padding: '15px',\n    borderRadius: '4px',\n    marginBottom: '15px'\n  },\n  previewImage: {\n    width: '100%',\n    borderRadius: '4px',\n    marginTop: '10px'\n  },\n  fileUploadSection: {\n    backgroundColor: '#f8f9fa',\n    padding: '20px',\n    borderRadius: '4px',\n    textAlign: 'center',\n    border: '2px dashed #ccc'\n  },\n  fileLabel: {\n    display: 'block',\n    marginBottom: '10px',\n    fontWeight: '500',\n    color: '#333'\n  },\n  fileInput: {\n    display: 'block',\n    width: '100%',\n    marginBottom: '15px',\n    padding: '8px',\n    border: '1px solid #ddd',\n    borderRadius: '4px',\n    cursor: 'pointer'\n  }\n};\nexport default IdentityVerification;\nvar _c;\n$RefreshReg$(_c, \"IdentityVerification\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","IdentityVerification","token","onVerificationComplete","onCancel","_s","videoRef","canvasRef","capturedPhoto","setCapturedPhoto","cameraActive","setCameraActive","loading","setLoading","error","setError","success","setSuccess","cameraError","setCameraError","verificationDetails","setVerificationDetails","useFileUpload","setUseFileUpload","startCamera","stream","navigator","mediaDevices","getUserMedia","video","width","ideal","height","facingMode","audio","current","srcObject","err","console","stopCamera","tracks","getTracks","forEach","track","stop","capturePhoto","context","getContext","videoWidth","videoHeight","translate","scale","drawImage","photoData","toDataURL","retakePhoto","handleFileUpload","e","file","target","files","type","startsWith","size","reader","FileReader","onload","event","result","onerror","readAsDataURL","handleSubmitVerification","response","fetch","method","headers","body","JSON","stringify","live_photo","camera_source","data","json","ok","fraud_indicators","length","join","fraudDetected","indicators","livenessScore","liveness_score","spoofingConfidence","spoofing_confidence","face_match_confidence","undefined","faceMatchConfidence","faceDistance","face_distance","verified","isGenuine","is_genuine","setTimeout","message","className","style","styles","container","children","card","title","fileName","_jsxFileName","lineNumber","columnNumber","subtitle","alert","details","toFixed","color","backgroundColor","borderColor","map","indicator","index","section","buttonGroup","onClick","primaryButton","secondaryButton","cameraSection","ref","autoPlay","playsInline","display","cameraInstructions","successButton","fileUploadSection","htmlFor","fileLabel","id","accept","onChange","fileInput","marginTop","previewSection","src","alt","previewImage","disabled","opacity","cursor","closeButtonContainer","closeButton","_c","justifyContent","alignItems","minHeight","padding","borderRadius","maxWidth","boxShadow","fontSize","fontWeight","marginBottom","border","gap","flexWrap","flex","minWidth","borderTop","paddingTop","textAlign","$RefreshReg$"],"sources":["D:/Desktop folder/Major Project clg/frontend/src/components/IdentityVerification.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\n\r\nfunction IdentityVerification({ token, onVerificationComplete, onCancel }) {\r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const [capturedPhoto, setCapturedPhoto] = useState(null);\r\n  const [cameraActive, setCameraActive] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [cameraError, setCameraError] = useState('');\r\n  const [verificationDetails, setVerificationDetails] = useState(null);\r\n  const [useFileUpload, setUseFileUpload] = useState(false);\r\n\r\n  // Start camera\r\n  const startCamera = async () => {\r\n    try {\r\n      setCameraError('');\r\n      setError('');\r\n      \r\n      const stream = await navigator.mediaDevices.getUserMedia({\r\n        video: {\r\n          width: { ideal: 1280 },\r\n          height: { ideal: 720 },\r\n          facingMode: 'user'\r\n        },\r\n        audio: false\r\n      });\r\n\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = stream;\r\n        setCameraActive(true);\r\n      }\r\n    } catch (err) {\r\n      console.error('Camera error:', err);\r\n      setCameraError('Unable to access camera. Please check browser permissions or use the upload option.');\r\n      setUseFileUpload(true);\r\n    }\r\n  };\r\n\r\n  // Stop camera\r\n  const stopCamera = () => {\r\n    if (videoRef.current && videoRef.current.srcObject) {\r\n      const tracks = videoRef.current.srcObject.getTracks();\r\n      tracks.forEach(track => track.stop());\r\n      setCameraActive(false);\r\n    }\r\n  };\r\n\r\n  // Capture photo from video\r\n  const capturePhoto = () => {\r\n    if (videoRef.current && canvasRef.current) {\r\n      const context = canvasRef.current.getContext('2d');\r\n      canvasRef.current.width = videoRef.current.videoWidth;\r\n      canvasRef.current.height = videoRef.current.videoHeight;\r\n      \r\n      // Mirror the image (selfie mode)\r\n      context.translate(canvasRef.current.width, 0);\r\n      context.scale(-1, 1);\r\n      \r\n      context.drawImage(videoRef.current, 0, 0);\r\n      \r\n      // Convert to base64\r\n      const photoData = canvasRef.current.toDataURL('image/jpeg', 0.95);\r\n      setCapturedPhoto(photoData);\r\n      stopCamera();\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  // Retake photo\r\n  const retakePhoto = () => {\r\n    setCapturedPhoto(null);\r\n    startCamera();\r\n  };\r\n\r\n  // Handle file upload\r\n  const handleFileUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      // Validate file type\r\n      if (!file.type.startsWith('image/')) {\r\n        setError('Please upload a valid image file');\r\n        return;\r\n      }\r\n\r\n      // Validate file size (max 5MB)\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        setError('Image size must be less than 5MB');\r\n        return;\r\n      }\r\n\r\n      const reader = new FileReader();\r\n      reader.onload = (event) => {\r\n        setCapturedPhoto(event.target.result);\r\n        setError('');\r\n      };\r\n      reader.onerror = () => {\r\n        setError('Failed to read file');\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  // Submit verification\r\n  const handleSubmitVerification = async () => {\r\n    if (!capturedPhoto) {\r\n      setError('Please capture or upload a photo first');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/verify-identity', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({\r\n          live_photo: capturedPhoto,\r\n          camera_source: useFileUpload ? 'file_upload' : 'webcam'\r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        // Handle fraud detection responses\r\n        if (data.fraud_indicators && data.fraud_indicators.length > 0) {\r\n          setError(`Identity verification failed: ${data.fraud_indicators.join(', ')}`);\r\n          setVerificationDetails({\r\n            fraudDetected: true,\r\n            indicators: data.fraud_indicators,\r\n            livenessScore: data.liveness_score,\r\n            spoofingConfidence: data.spoofing_confidence\r\n          });\r\n        } else {\r\n          setError(data.error || 'Verification failed');\r\n          if (data.face_match_confidence !== undefined) {\r\n            setVerificationDetails({\r\n              fraudDetected: false,\r\n              faceMatchConfidence: data.face_match_confidence,\r\n              faceDistance: data.face_distance\r\n            });\r\n          }\r\n        }\r\n        setCapturedPhoto(null);\r\n        return;\r\n      }\r\n\r\n      setSuccess('‚úì Identity verified successfully!');\r\n      setVerificationDetails({\r\n        verified: true,\r\n        faceMatchConfidence: data.face_match_confidence,\r\n        livenessScore: data.liveness_score,\r\n        isGenuine: data.is_genuine\r\n      });\r\n\r\n      // Notify parent component\r\n      setTimeout(() => {\r\n        if (onVerificationComplete) {\r\n          onVerificationComplete();\r\n        }\r\n      }, 1500);\r\n    } catch (err) {\r\n      setError(`Error: ${err.message}`);\r\n      setCapturedPhoto(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Cleanup on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      stopCamera();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"identity-verification-container\" style={styles.container}>\r\n      <div className=\"verification-card\" style={styles.card}>\r\n        <h3 style={styles.title}>Identity Verification</h3>\r\n        <p style={styles.subtitle}>\r\n          Please capture a clear photo of your face using your camera for identity verification.\r\n        </p>\r\n\r\n        {error && (\r\n          <div className=\"alert alert-danger\" style={styles.alert}>\r\n            <strong>Error:</strong> {error}\r\n          </div>\r\n        )}\r\n\r\n        {success && (\r\n          <div className=\"alert alert-success\" style={styles.alert}>\r\n            {success}\r\n          </div>\r\n        )}\r\n\r\n        {verificationDetails && verificationDetails.verified && (\r\n          <div className=\"verification-details\" style={styles.details}>\r\n            <p>\r\n              <strong>Face Match Confidence:</strong> {(verificationDetails.faceMatchConfidence * 100).toFixed(1)}%\r\n            </p>\r\n            <p>\r\n              <strong>Liveness Score:</strong> {(verificationDetails.livenessScore * 100).toFixed(1)}%\r\n            </p>\r\n            <p>\r\n              <strong>Status:</strong> <span style={{ color: 'green' }}>‚úì Genuine Person Detected</span>\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {verificationDetails && verificationDetails.fraudDetected && (\r\n          <div className=\"fraud-warning\" style={{ ...styles.details, backgroundColor: '#fff3cd', borderColor: '#ffc107' }}>\r\n            <p>\r\n              <strong>‚ö† Fraud Indicators Detected:</strong>\r\n            </p>\r\n            <ul>\r\n              {verificationDetails.indicators.map((indicator, index) => (\r\n                <li key={index}>\r\n                  {indicator === 'multiple_faces_detected' && 'Multiple faces detected in image'}\r\n                  {indicator === 'image_too_small' && 'Image too small - may be a screenshot'}\r\n                  {indicator === 'no_face_detected' && 'No face detected in image'}\r\n                  {indicator === 'detection_error' && 'Error during fraud detection'}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            {verificationDetails.livenessScore !== undefined && (\r\n              <p><strong>Liveness Score:</strong> {(verificationDetails.livenessScore * 100).toFixed(1)}% (Below threshold)</p>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {verificationDetails && !verificationDetails.verified && !verificationDetails.fraudDetected && (\r\n          <div className=\"face-mismatch-warning\" style={{ ...styles.details, backgroundColor: '#f8d7da', borderColor: '#f5c6cb' }}>\r\n            <p>\r\n              <strong>Face Match Failed</strong>\r\n            </p>\r\n            <p>\r\n              The captured face does not match your registered identity. \r\n            </p>\r\n            {verificationDetails.faceMatchConfidence !== undefined && (\r\n              <p>\r\n                <strong>Match Confidence:</strong> {(verificationDetails.faceMatchConfidence * 100).toFixed(1)}%\r\n              </p>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Camera Section */}\r\n        {!capturedPhoto && (\r\n          <div style={styles.section}>\r\n            {!cameraActive && !useFileUpload && (\r\n              <div style={styles.buttonGroup}>\r\n                <button\r\n                  onClick={startCamera}\r\n                  className=\"btn btn-primary\"\r\n                  style={styles.primaryButton}\r\n                >\r\n                  üì∑ Start Camera\r\n                </button>\r\n                <button\r\n                  onClick={() => setUseFileUpload(true)}\r\n                  className=\"btn btn-secondary\"\r\n                  style={styles.secondaryButton}\r\n                >\r\n                  üìÅ Upload Photo Instead\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {cameraActive && (\r\n              <div style={styles.cameraSection}>\r\n                <video\r\n                  ref={videoRef}\r\n                  autoPlay\r\n                  playsInline\r\n                  style={styles.video}\r\n                />\r\n                <canvas ref={canvasRef} style={{ display: 'none' }} />\r\n                \r\n                <div style={styles.cameraInstructions}>\r\n                  <p>üì∏ Position your face clearly in the center of the camera</p>\r\n                  <p>‚úì Ensure good lighting and no obstructions</p>\r\n                  <p>‚úì Face the camera directly</p>\r\n                </div>\r\n\r\n                <div style={styles.buttonGroup}>\r\n                  <button\r\n                    onClick={capturePhoto}\r\n                    className=\"btn btn-success\"\r\n                    style={styles.successButton}\r\n                  >\r\n                    üì∑ Capture Photo\r\n                  </button>\r\n                  <button\r\n                    onClick={stopCamera}\r\n                    className=\"btn btn-secondary\"\r\n                    style={styles.secondaryButton}\r\n                  >\r\n                    ‚úï Cancel Camera\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {useFileUpload && !cameraActive && (\r\n              <div style={styles.fileUploadSection}>\r\n                <label htmlFor=\"photo-upload\" style={styles.fileLabel}>\r\n                  üìÅ Select Photo from Your Device\r\n                </label>\r\n                <input\r\n                  id=\"photo-upload\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={handleFileUpload}\r\n                  style={styles.fileInput}\r\n                />\r\n                <button\r\n                  onClick={() => setUseFileUpload(false)}\r\n                  className=\"btn btn-secondary\"\r\n                  style={styles.secondaryButton}\r\n                >\r\n                  Back to Camera\r\n                </button>\r\n                {cameraError && (\r\n                  <p style={{ color: '#dc3545', marginTop: '10px' }}>{cameraError}</p>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Photo Preview and Verification */}\r\n        {capturedPhoto && (\r\n          <div style={styles.section}>\r\n            <div style={styles.previewSection}>\r\n              <h4>üì∑ Preview</h4>\r\n              <img\r\n                src={capturedPhoto}\r\n                alt=\"Captured\"\r\n                style={styles.previewImage}\r\n              />\r\n            </div>\r\n\r\n            <div style={styles.buttonGroup}>\r\n              <button\r\n                onClick={handleSubmitVerification}\r\n                disabled={loading}\r\n                className=\"btn btn-success\"\r\n                style={{\r\n                  ...styles.successButton,\r\n                  opacity: loading ? 0.6 : 1,\r\n                  cursor: loading ? 'not-allowed' : 'pointer'\r\n                }}\r\n              >\r\n                {loading ? '‚è≥ Verifying...' : '‚úì Verify Identity'}\r\n              </button>\r\n              <button\r\n                onClick={retakePhoto}\r\n                disabled={loading}\r\n                className=\"btn btn-secondary\"\r\n                style={{\r\n                  ...styles.secondaryButton,\r\n                  opacity: loading ? 0.6 : 1,\r\n                  cursor: loading ? 'not-allowed' : 'pointer'\r\n                }}\r\n              >\r\n                üîÑ Retake Photo\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Close Button */}\r\n        {!loading && (\r\n          <div style={styles.closeButtonContainer}>\r\n            <button\r\n              onClick={onCancel}\r\n              className=\"btn btn-outline-secondary\"\r\n              style={styles.closeButton}\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    minHeight: '100vh',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n    padding: '20px'\r\n  },\r\n  card: {\r\n    backgroundColor: 'white',\r\n    borderRadius: '8px',\r\n    padding: '30px',\r\n    maxWidth: '500px',\r\n    width: '100%',\r\n    boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'\r\n  },\r\n  title: {\r\n    fontSize: '24px',\r\n    fontWeight: 'bold',\r\n    marginBottom: '10px',\r\n    color: '#333'\r\n  },\r\n  subtitle: {\r\n    color: '#666',\r\n    marginBottom: '20px'\r\n  },\r\n  alert: {\r\n    padding: '12px',\r\n    marginBottom: '15px',\r\n    borderRadius: '4px',\r\n    fontSize: '14px'\r\n  },\r\n  details: {\r\n    padding: '15px',\r\n    backgroundColor: '#d4edda',\r\n    border: '1px solid #c3e6cb',\r\n    borderRadius: '4px',\r\n    marginBottom: '15px',\r\n    fontSize: '14px'\r\n  },\r\n  section: {\r\n    marginBottom: '20px'\r\n  },\r\n  buttonGroup: {\r\n    display: 'flex',\r\n    gap: '10px',\r\n    marginTop: '15px',\r\n    flexWrap: 'wrap'\r\n  },\r\n  primaryButton: {\r\n    flex: '1',\r\n    minWidth: '150px',\r\n    padding: '10px 15px',\r\n    backgroundColor: '#007bff',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '4px',\r\n    cursor: 'pointer',\r\n    fontSize: '14px',\r\n    fontWeight: '500'\r\n  },\r\n  successButton: {\r\n    flex: '1',\r\n    minWidth: '150px',\r\n    padding: '10px 15px',\r\n    backgroundColor: '#28a745',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '4px',\r\n    cursor: 'pointer',\r\n    fontSize: '14px',\r\n    fontWeight: '500'\r\n  },\r\n  secondaryButton: {\r\n    flex: '1',\r\n    minWidth: '150px',\r\n    padding: '10px 15px',\r\n    backgroundColor: '#6c757d',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '4px',\r\n    cursor: 'pointer',\r\n    fontSize: '14px',\r\n    fontWeight: '500'\r\n  },\r\n  closeButton: {\r\n    width: '100%',\r\n    padding: '10px',\r\n    backgroundColor: 'white',\r\n    color: '#6c757d',\r\n    border: '1px solid #6c757d',\r\n    borderRadius: '4px',\r\n    cursor: 'pointer',\r\n    fontSize: '14px'\r\n  },\r\n  closeButtonContainer: {\r\n    marginTop: '20px',\r\n    borderTop: '1px solid #eee',\r\n    paddingTop: '15px'\r\n  },\r\n  cameraSection: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: '15px',\r\n    borderRadius: '4px',\r\n    marginBottom: '15px'\r\n  },\r\n  video: {\r\n    width: '100%',\r\n    borderRadius: '4px',\r\n    marginBottom: '10px',\r\n    backgroundColor: '#000'\r\n  },\r\n  cameraInstructions: {\r\n    backgroundColor: '#e7f3ff',\r\n    border: '1px solid #b3d9ff',\r\n    borderRadius: '4px',\r\n    padding: '12px',\r\n    marginBottom: '15px',\r\n    fontSize: '13px',\r\n    color: '#004085'\r\n  },\r\n  previewSection: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: '15px',\r\n    borderRadius: '4px',\r\n    marginBottom: '15px'\r\n  },\r\n  previewImage: {\r\n    width: '100%',\r\n    borderRadius: '4px',\r\n    marginTop: '10px'\r\n  },\r\n  fileUploadSection: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: '20px',\r\n    borderRadius: '4px',\r\n    textAlign: 'center',\r\n    border: '2px dashed #ccc'\r\n  },\r\n  fileLabel: {\r\n    display: 'block',\r\n    marginBottom: '10px',\r\n    fontWeight: '500',\r\n    color: '#333'\r\n  },\r\n  fileInput: {\r\n    display: 'block',\r\n    width: '100%',\r\n    marginBottom: '15px',\r\n    padding: '8px',\r\n    border: '1px solid #ddd',\r\n    borderRadius: '4px',\r\n    cursor: 'pointer'\r\n  }\r\n};\r\n\r\nexport default IdentityVerification;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}